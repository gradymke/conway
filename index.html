<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Conway's Life</title>
        <script
            defer
            src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
        ></script>
        <script src="conway.js"></script>

        <!-- Simple CSS-->
        <link
            rel="stylesheet"
            href="https://cdn.simplecss.org/simple.min.css"
        />

        <!-- Google Material Stuff -->
        <link
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        />

        <link rel="stylesheet" type="text/css" href="32ozbev.css" />
        <link rel="icon" href="conway.png" />
    </head>

    <body x-data="grid">
        <!-- <div x-data="grid"> -->
        <header>
            <h1>Conway's Life</h1>
        </header>
        <main>
            <div class="notice tableControl">
                <button
                    type="button"
                    title="Remove Row"
                    class="material-symbols-outlined"
                    x-on:click="loseRow"
                >
                    table_rows
                </button>
                <button
                    type="button"
                    title="Add Row"
                    class="material-symbols-outlined"
                    x-on:click="addRow"
                >
                    add_row_below
                </button>
                <button
                    type="button"
                    title="Remove Column"
                    class="material-symbols-outlined"
                    x-on:click="loseColumn"
                >
                    view_column
                </button>
                <button
                    type="button"
                    title="Add Column"
                    class="material-symbols-outlined"
                    x-on:click="addColumn"
                >
                    add_column_right
                </button>
            </div>
            <div class="notice generationControl">
                <button
                    type="button"
                    class="material-icons"
                    x-on:click="toggleRunning"
                    x-text="running ? 'pause' : 'play_arrow'"
                    x-bind:title="running ? 'Stop' : 'Play'"
                ></button>
                <button
                    type="button"
                    title="Step"
                    class="material-icons"
                    x-on:click="conwayGen"
                >
                    skip_next
                </button>
                <button
                    type="button"
                    title="Clear"
                    class="material-icons"
                    x-on:click="clearUniverse"
                >
                    delete_sweep
                </button>
            </div>
            <table class="conwayGrid">
                <tbody>
                    <template x-model="rows" x-for="ii in rows">
                        <tr>
                            <template x-model="columns" x-for="jj in columns">
                                <td
                                    x-model="universe[ii-1][jj-1]"
                                    x-on:click="universe[ii-1][jj-1] = ! universe[ii-1][jj-1]; "
                                    x-bind:class="universe[ii-1][jj-1] ? 'clicked' : 'unclicked'"
                                ></td>
                            </template>
                        </tr>
                    </template>
                </tbody>
            </table>
            <div class="status-bar">Generation: <span x-text="generation"></span></span></div>
        </main>
        <!-- </div> -->
        <!-- End of GRID -->
    </body>
</html>
